
## 要说一说无人驾驶那点事，就不能不不提华为的 ADS 和特斯拉的 FSD(1)

最近小米宣布了要造车、还有最近华为也推出了高阶自动驾驶ADS(Autonomous Driving Solution)系统，在车展上闪亮登场的阿尔法 S 华为 HI 版车型已经加载了 ADS 系统，并且在年底会投入市场。这一切都又在一起将公众的关注带到了无人驾驶和新能源汽车汽车上。让沉浸一段时间的无人驾驶再次提升了热度。

华为主要是以激光雷达为主的无人驾驶，而特斯拉这是以计算机视觉为主无人驾驶的代表。这也是今天主要两个无人驾驶的派别。我们以使用不同感知器来区分不同派别的无人驾驶。

#### ADS 和 FSD
简单对比一下华为 ADS 和 FSD 两个都是以无人驾驶最高境界 level4 为目标的雄心勃勃的两个无人驾驶系统。我们先从官方给出他们两个系统现在都实现了那些功能，先从国人的骄傲华为说起，然后再看特斯拉

据了解，现场测试车辆的行驶情况较为平稳
- 在红绿灯启停
- 无保护左转
- 避让路口车辆
- 礼让行人
- 变道等情形下均能实现城区通勤无干预自动驾驶。

视频显示，在自动驾驶期间，车辆在穿过行人、电动车及汽车来回穿行的拥挤马路期间，车辆的自动驾驶状态表现得十分科技智能。华为自动驾驶能够在市区做到 1000 公里无干预的自动驾驶。华为要做 inside，也就是说华为提供了一套完备的自动驾驶系统，不仅限于系统，包括电动机等硬件。而且别忘了华为还有 5G 网络。

接下来再聊聊特斯拉的 FSD 系统，
- 通过辅助驾驶导航、主动地上下高速路口，提供变道提示，穿越交叉路口、自动转向
- 自动变道，在高速可以实现全自动的变道，不需要人来做任何的干预
- 自动泊车，一键可以进行平行停车和垂直停车
- 召唤，比如一个车位很小，容易停车，可以车自己进入车位
- 智能召唤，这个已经有点无人驾驶味道了
- 在一些红绿灯和 STOP 可以识别并作出相应判断
- 即将到来功能，在街区内可以实现自动变道或者驾驶
- 即使在没有开启 autopolite 功能，现在 Tesla 也支持避让行人的功能

最近看了特斯拉在其无人驾驶开发者大会上，安德烈给出的 presentation，就无人驾驶的基于神经网络的视觉处理给出特斯拉的解决方案和适当的解释。 个人认为特斯拉最大优势就是现在路面上。那么接下来多安德烈给出分享一些技术或者概念进行扩展一下

特斯拉在 2020 年交付了 499550 辆汽车，比上一年增长了 36%，只差几百辆就能达到一个历史性的、期待已久的里程碑，这也是 CEO 埃隆·马斯克 5 年多来的目标。特斯拉依赖车队(Fleet)，收集到大量行驶数据，其实这些数据是特斯拉的财富，在数据方面他把 waymo、百度这些大厂的数据远远甩在后面。

#### 神经网络在特斯拉中的应用
基于计算机视觉的常规做法就是设计一个神经网络，，采集数据、标注数据、训练模型，更新模型。特斯拉基本就是这么做的，只不过人家做到极致，每个环节都引入创新，形成一套完整的可以自动采集数据、测试以及训练，到最后的部署。不过无论怎么演进，只要他采用的神经网络，那么就会存在一个问题，可解释性，虽然今天，但是我们是否可以真正把握了神经网络吗。现在神经网络能够做的事情越来越多来，下面列举在 Tesla 中用到的神经网络。

Depth Network: 用以进行稠密的深度估计，其实对于计算机视觉对于深度估计，其实在图像中我们是无法感知深度，需要借助其他设备或者额外信息才能够实现，例如通过激光雷达收集到信息对图像进行标注，然后将这些带有标注的图像交给神经网络进行训练后进行预测，接下来自己一点对深度感知一点想法。通过在网络层中融合摄像机数据和投影稀疏雷达数据的方法来增强当前的 2D 目标检测网络。提出的CameraRadarFusion网络（CRF-Net）会自动了解传感器数据的融合对检测结果最有利的 level。雷达检测不提供有关接收高度的信息，这增加了融合数据类型的难度。假定雷达检测的3D坐标是从车辆行驶的地面返回的，投影在垂直于该平面的方向上延伸。好了这里有点说的多了。

Birdeye View Network: 用以将多个图像物体的坐标转化为 Birdeye view 的坐标投影，大家都知道 3D 检测对于无人驾驶至关重要，LIDAR(激光雷达)包换高精度的深度信息，其实这部分内容要说来起，没有一天半天也说清楚，随后会围绕就这部内容进行展开，给大家带来一个系列的分享，自己也在努力补习这部分内容。其实这部分内容也会用到融合，融合 LIDAR 信息和多角度视图融合得到 Birdeye View。

Layout Network: 用以推测道路元素的布局情况，这个不算了解。
Pointer Network: 这个网络主要用以预测道路元素间的关联，例如红绿灯对应车道。其实在道路路面的标示间以及与交通标示间是存在一些关联性，通过分析关联性可以提供预测的精准性，以及接下里道路给予提前预测。车道路面上标示和交通标示通常是在时序有一定关联，可以这些信息是有助于司机在驾驶上给出正确判断，所以对于无人驾驶系统也是非常必要。他们之间关联性是时序上的问题，提到时序上的问题，大家都会想到 RNN 和 Transform 网络，而这里特斯拉采用的 Pointer Network 是一种对 Transform 简化的网络结构，也就可以看成 Transform 的精简版


